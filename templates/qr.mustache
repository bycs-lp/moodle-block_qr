{{#qrcodecontent}}
    {{#qrurl}}<a href="{{{qrcodelink}}}">{{/qrurl}}
        <div id="container{{id}}" style="width: {{size}}; max-width: 100%; margin: 0 auto;"></div>
    {{#qrurl}}</a>{{/qrurl}}
    <div class="text-center">
        <button class="btn btn-secondary" id="qrcodeModalButton{{id}}">{{#str}}fullscreen, block_qr{{/str}}</button>
    </div>
    <hr>
    {{{subcontent}}}

    <script src="{{javascript}}"></script>
    {{#js}}
        (function() {
        if (typeof QRCode === 'undefined') { return; }

        var content = {{#qrcodecontent_json}}{{{qrcodecontent_json}}}{{/qrcodecontent_json}}{{^qrcodecontent_json}}"{{{qrcodecontent}}}"{{/qrcodecontent_json}};

        var cfg = { content: content, color: "#000000", background: "#ffffff", ecl: "M", container: "svg-viewbox", join: true };
        var qr = new QRCode(cfg);
        var svg = qr.svg();

        var container = document.getElementById("container{{id}}");
        if (container) { container.innerHTML = svg; }

        var btn = document.getElementById("qrcodeModalButton{{id}}");
        if (btn && typeof require !== 'undefined') {
        btn.addEventListener("click", function() {
        require(['core/modal'], function(MF) {
        MF.create({ title: '{{{description}}}', body: svg }).then(function(m){ m.show(); });
        });
        });
        }
        })();
    {{/js}}
    {{#fullview}}{{#configshortlink}}
        <p class="text-center">
            <i class="fa fa-location-arrow"></i>
            <a href="{{urlshort}}" target="_blank">{{#str}}urlshortlabel, block_qr{{/str}}</a>
        </p>
    {{/configshortlink}}{{/fullview}}
{{/qrcodecontent}}
{{^qrcodecontent}}
    <div class="alert alert-warning">{{description}}</div>
{{/qrcodecontent}}